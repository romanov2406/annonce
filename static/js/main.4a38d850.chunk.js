(this.webpackJsonpannouncements=this.webpackJsonpannouncements||[]).push([[0],{36:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var s=n(1),a=n(0),c=n.n(a),i=n(13),r=n.n(i),o=(n(36),n(8)),u=n(19),l=n(9),d=n(10),h=n(12),m=n(11),j=n(18),b=n(3),p=n(26);function f(t){var e="".concat(t.getHours()<10?"0":"").concat(t.getHours(),":").concat(t.getMinutes()<10?"0":"").concat(t.getMinutes()),n="".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear());return"".concat(e," | ").concat(n)}function O(t,e){return t.length>e&&(t=t.substring(0,e)+"..."),t}var v=function(t){Object(h.a)(n,t);var e=Object(m.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).handleChange=function(t){s.setState({filter:t.target.value})},s.state={filter:"",announcements:t.announcements},s}return Object(d.a)(n,[{key:"remove",value:function(t){this.setState({announcements:this.state.announcements.filter((function(e){return e.id!==t.id}))}),this.props.remove(t)}},{key:"render",value:function(){var t=this,e=this.state,n=e.filter,c=e.announcements.filter((function(t){return t.title.toLowerCase().includes(n.toLowerCase())}));return Object(s.jsxs)(a.Fragment,{children:[Object(s.jsx)("button",{className:"btn btn-primary new",onClick:function(){return t.props.history.push("/announcements/new")},children:"Add New Announcement"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)("input",{className:"form-control search",value:n,onChange:this.handleChange,placeholder:"search"})})}),Object(s.jsx)(p.a,{children:c.length?c.map((function(e,n){return Object(s.jsx)(p.a.Item,{children:Object(s.jsxs)("div",{className:"announcement-item",children:[Object(s.jsxs)("div",{className:"info",children:[Object(s.jsx)(j.b,{to:"/announcements-details/".concat(e.id),children:Object(s.jsx)("h4",{children:e.title})}),Object(s.jsx)("div",{className:"alert alert-light",role:"alert",children:Object(s.jsx)("p",{children:O(e.description,250)})}),Object(s.jsx)("span",{className:"badge badge-light",children:e.date})]}),Object(s.jsxs)("div",{className:"actions",children:[Object(s.jsx)("img",{src:"icons/trash.svg",alt:"trash",onClick:function(){return t.remove(e)}}),Object(s.jsx)("img",{src:"icons/pencil.svg",alt:"pencil",onClick:function(){return t.props.history.push("/announcements/".concat(e.id))}})]})]})},n)})):Object(s.jsx)("div",{className:"d-flex justify-content-center",children:Object(s.jsx)("img",{src:"empty.png",width:"400px",alt:"empty"})})})]})}}]),n}(a.Component),x=n(27),g=(n(42),function(t){Object(h.a)(n,t);var e=Object(m.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).handleInputChange=function(t){s.setState(Object(o.a)({},t))},s.notify=function(){return x.b.error("Please fill out all fields",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},s.state={title:"",description:"",announcement:null,announcements:t.announcements,id:+t.match.params.id,isNew:!!t.add},s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;if(null!=this.state.id&&!this.state.isNew){var e=this.state.announcements.find((function(e){return e.id===t.state.id}));this.setState({title:e.title,description:e.description,announcement:e},(function(){return console.log(t.state)}))}}},{key:"createAnnouncement",value:function(){var t=this.state,e=t.title,n=t.description;if(!e||!n)return this.notify(),!1;var s={id:(new Date).getTime(),title:this.state.title,description:this.state.description,date:f(new Date)};this.props.add(s),this.props.history.push("/announcements")}},{key:"updateAnnouncement",value:function(){var t=this.state,e=t.title,n=t.description,s=this.state.announcement.id;this.props.update({id:s,title:e,description:n}),this.props.history.push("/announcements")}},{key:"submit",value:function(t){t.preventDefault(),this.state.isNew?this.createAnnouncement():this.updateAnnouncement()}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:"New Announcement"}),Object(s.jsxs)("form",{onSubmit:function(e){return t.submit(e)},children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"title",children:"Announcement Title"}),Object(s.jsx)("input",{type:"text",id:"title",className:"form-control",value:this.state.title,onChange:function(e){return t.handleInputChange({title:e.target.value})}})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"description",children:"Announcement Description"}),Object(s.jsx)("textarea",{id:"description",className:"form-control",cols:"30",rows:"10",value:this.state.description,onChange:function(e){return t.handleInputChange({description:e.target.value})}})]}),Object(s.jsxs)("div",{className:"buttons",children:[Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",children:this.state.isNew?"Create Announcement":"Update Announcement"}),Object(s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return t.props.history.goBack()},children:"Back"})]})]}),Object(s.jsx)(x.a,{})]})}}]),n}(a.Component)),y=n(25),N=function(t){Object(h.a)(n,t);var e=Object(m.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).state={announcements:t.announcements,id:+t.match.params.id,announcement:null},s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.state.announcements.find((function(e){return e.id===t.state.id}));this.setState({announcement:e},(function(){t.setState({similar:Object(u.a)(t.findSimilarAnnouncements("title")).splice(0,3)})}))}},{key:"findSimilarAnnouncements",value:function(t){if(this.state.announcement){var e,n=new Set,s=Object(y.a)(this.state.announcement[t].split(" "));try{for(s.s();!(e=s.n()).done;){var a,c=e.value,i=Object(y.a)(this.state.announcements);try{for(i.s();!(a=i.n()).done;){var r=a.value;-1!==r[t].indexOf(c)&&r.id!==this.state.announcement.id&&n.add(r)}}catch(o){i.e(o)}finally{i.f()}}}catch(o){s.e(o)}finally{s.f()}return n}}},{key:"render",value:function(){var t=this;return this.state.announcement&&Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:this.state.announcement.title}),Object(s.jsx)("p",{children:this.state.announcement.description}),Object(s.jsx)("span",{className:"badge badge-light",children:this.state.announcement.date}),Object(s.jsx)("div",{className:"mt-2",children:Object(s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return t.props.history.goBack()},children:"Back"})}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"similar-announcements",children:this.state.similar&&this.state.similar.length?this.state.similar.map((function(t,e){return Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",children:t.title}),Object(s.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t.date}),Object(s.jsx)("p",{className:"card-text",children:O(t.description,150)})]})},e)})):Object(s.jsx)("div",{className:"alert alert-primary",children:"No similar announcements"})})]})}}]),n}(a.Component),k=(n(43),n(44),function(t){Object(h.a)(n,t);var e=Object(m.a)(n);function n(t){var s;Object(l.a)(this,n),s=e.call(this,t);var a=localStorage.getItem("announcements");return s.state={announcements:a?JSON.parse(a):[]},s}return Object(d.a)(n,[{key:"save",value:function(){localStorage.setItem("announcements",JSON.stringify(this.state.announcements))}},{key:"add",value:function(t){this.setState({announcements:[].concat(Object(u.a)(this.state.announcements),[t])},this.save)}},{key:"update",value:function(t){var e=t.title,n=t.description,s=this.state.announcements.map((function(s){return s.id===t.id?Object.assign({},s,{title:e,description:n}):s}));this.setState({announcements:s},this.save)}},{key:"remove",value:function(t){this.setState({announcements:this.state.announcements.filter((function(e){return e.id!==t.id}))},this.save)}},{key:"render",value:function(){var t=this;return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(j.a,{children:Object(s.jsxs)(b.d,{children:[Object(s.jsx)(b.b,{path:"/announcements/new",render:function(e){return Object(s.jsx)(g,Object(o.a)(Object(o.a)({},e),{},{add:function(e){return t.add(e)}}))}}),Object(s.jsx)(b.b,{path:"/announcements/:id",render:function(e){return Object(s.jsx)(g,Object(o.a)(Object(o.a)({},e),{},{announcements:t.state.announcements,update:function(e){return t.update(e)}}))}}),Object(s.jsx)(b.b,{path:"/announcements",render:function(e){return Object(s.jsx)(v,Object(o.a)(Object(o.a)({},e),{},{announcements:t.state.announcements,remove:function(e){return t.remove(e)}}))}}),Object(s.jsx)(b.b,{path:"/announcements-details/:id",render:function(e){return Object(s.jsx)(N,Object(o.a)(Object(o.a)({},e),{},{announcements:t.state.announcements}))}}),Object(s.jsx)(b.a,{from:"/",to:"/announcements"})]})})})}}]),n}(a.Component)),C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),s(t),a(t),c(t),i(t)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root")),C()}},[[45,1,2]]]);
//# sourceMappingURL=main.4a38d850.chunk.js.map